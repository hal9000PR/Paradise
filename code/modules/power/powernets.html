<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../../../"><link rel="stylesheet" href="dmdoc.css"><title>code/modules/power/powernets/README.md - Space Station 13</title></head><body><header><a href="index.html">Space Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a></header><main><h1>Understanding Powernets <aside>code/modules/power/powernets/README.md</aside> <a href="https://github.com/hal9000PR/Paradise/blob/7378accb6de6547810724c9792b30835baaca45e/code/modules/power/powernets/README.md0"><img src="git.png" width="16" height="16" title="code/modules/power/powernets/README.md0"></a></h1><table class="summary" cellspacing="0"><tr><td colspan="2"><p>Much like any other massive numbers system in SS13, the power (or powernet) system is complex and confusing to work with, only being trumped in complexity by atmospherics/LINDA. This README serves as a powernets 101 guide and breaks down how the system works.</p>
<h2 id="two-types-of-powernets">Two Types of Powernets</h2>
<p>There are two types of powernets in our code</p>
<ol>
<li>Regional Powernets</li>
<li>Local Powernets</li>
</ol>
<p>They are two completely different datum types from eachother and serve different completely different purposes. In a nutshell, regional powernets are dynamically sized and deal with physical machinery, cables, and generators whereas local powernets are statically locked into a single area each and work directly with APCs to handle individual machines interactions with the larger regional powernet.</p>
<h2 id="regional-powernet">Regional Powernet</h2>
<p>An inter-area datum which handles 1 continuous set of cables (<code>var/list/cables</code>) and all the connected machinery/nodes on that set of cable (<code>var/list/nodes</code>).</p>
<p>On this datum you'll notice a lot of different vars handling power input, output, consumption, demand, etc</p>
<h3 id="regional-powernet-process-call-stack">Regional Powernet Process Call Stack</h3>
<p>Starting in SSmachines,
<code>/datum/controller/subsystem/machines/fire(resumed = 0)</code>
the <code>fire()</code> proc will call process <code>process_powernets()</code>
<code>/datum/controller/subsystem/machines/proc/process_powernets(resumed = 0)</code>
This proc will then call <code>process_power()</code> on every single registered regional powernet</p>
<h3 id="the-power-variables">The Power Variables</h3>
<p><code>var/available_power</code> - the currently available power in the powernet in watts THIS PROCESS CYCLE
<code>var/power_demand</code> - the power being consumed from available power in watts THIS PROCESS CYCLE</p>
<p><code>var/queued_power_production</code> - the power in watts that will be available to be consumed in the NEXT PROCESS CYCLE
--&gt; All power producing generators dump their production into this variable
<code>var/queued_power_demand</code> - the power in watts that will be guaranteed to be consumed in the NEXT PROCESS CYCLE
--&gt; Anything machine/item that needs to have priority consumption draws from the queue'd cycle first in order to ensure it gets priority power (electrocution, powersinks, etc)</p></td></tr></table></main><footer>paradise.dme <a href="https://github.com/hal9000PR/Paradise/tree/7378accb6de6547810724c9792b30835baaca45e">7378acc</a> (master) â€” <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.9.0</a></footer></body></html>